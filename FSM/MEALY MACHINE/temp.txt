Output depends on both state and input